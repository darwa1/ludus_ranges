# yaml-language-server: $schema=https://docs.ludus.cloud/schemas/range-config.json

ludus:
  # ----------------------------
  # Ubuntu 24.04 desktop hosts (8)
  # ----------------------------
  - vm_name: "{{ range_id }}-u24-01"
    hostname: "{{ range_id }}-U24-01"
    template: ubuntu-24.04-x64-desktop-template
    vlan: 121
    ip_last_octet: 21
    ram_gb: 4
    cpus: 2
    linux:
      packages:
        - openssh-server

  - vm_name: "{{ range_id }}-u24-02"
    hostname: "{{ range_id }}-U24-02"
    template: ubuntu-24.04-x64-desktop-template
    vlan: 121
    ip_last_octet: 22
    ram_gb: 4
    cpus: 2
    linux:
      packages: [openssh-server]

  - vm_name: "{{ range_id }}-u24-03"
    hostname: "{{ range_id }}-U24-03"
    template: ubuntu-24.04-x64-desktop-template
    vlan: 121
    ip_last_octet: 23
    ram_gb: 4
    cpus: 2
    linux:
      packages: [openssh-server]

  - vm_name: "{{ range_id }}-u24-04"
    hostname: "{{ range_id }}-U24-04"
    template: ubuntu-24.04-x64-desktop-template
    vlan: 121
    ip_last_octet: 24
    ram_gb: 4
    cpus: 2
    linux:
      packages: [openssh-server]

  - vm_name: "{{ range_id }}-u24-05"
    hostname: "{{ range_id }}-U24-05"
    template: ubuntu-24.04-x64-desktop-template
    vlan: 121
    ip_last_octet: 25
    ram_gb: 4
    cpus: 2
    linux:
      packages: [openssh-server]

  - vm_name: "{{ range_id }}-u24-06"
    hostname: "{{ range_id }}-U24-06"
    template: ubuntu-24.04-x64-desktop-template
    vlan: 121
    ip_last_octet: 26
    ram_gb: 4
    cpus: 2
    linux:
      packages: [openssh-server]

  - vm_name: "{{ range_id }}-u24-07"
    hostname: "{{ range_id }}-U24-07"
    template: ubuntu-24.04-x64-desktop-template
    vlan: 121
    ip_last_octet: 27
    ram_gb: 4
    cpus: 2
    linux:
      packages: [openssh-server]

  - vm_name: "{{ range_id }}-u24-08"
    hostname: "{{ range_id }}-U24-08"
    template: ubuntu-24.04-x64-desktop-template
    vlan: 121
    ip_last_octet: 28
    ram_gb: 4
    cpus: 2
    linux:
      packages: [openssh-server]

  # ----------------------------
  # Debian 13 redirectors (8)
  # ----------------------------
  - vm_name: "{{ range_id }}-d13-redir-01"
    hostname: "{{ range_id }}-D13-R01"
    template: debian-13-x64-server-template
    vlan: 121
    ip_last_octet: 41
    ram_gb: 2
    cpus: 2
    linux:
      packages: [openssh-server]

  - vm_name: "{{ range_id }}-d13-redir-02"
    hostname: "{{ range_id }}-D13-R02"
    template: debian-13-x64-server-template
    vlan: 121
    ip_last_octet: 42
    ram_gb: 2
    cpus: 2
    linux:
      packages: [openssh-server]

  - vm_name: "{{ range_id }}-d13-redir-03"
    hostname: "{{ range_id }}-D13-R03"
    template: debian-13-x64-server-template
    vlan: 121
    ip_last_octet: 43
    ram_gb: 2
    cpus: 2
    linux:
      packages: [openssh-server]

  - vm_name: "{{ range_id }}-d13-redir-04"
    hostname: "{{ range_id }}-D13-R04"
    template: debian-13-x64-server-template
    vlan: 121
    ip_last_octet: 44
    ram_gb: 2
    cpus: 2
    linux:
      packages: [openssh-server]

  - vm_name: "{{ range_id }}-d13-redir-05"
    hostname: "{{ range_id }}-D13-R05"
    template: debian-13-x64-server-template
    vlan: 121
    ip_last_octet: 45
    ram_gb: 2
    cpus: 2
    linux:
      packages: [openssh-server]

  - vm_name: "{{ range_id }}-d13-redir-06"
    hostname: "{{ range_id }}-D13-R06"
    template: debian-13-x64-server-template
    vlan: 121
    ip_last_octet: 46
    ram_gb: 2
    cpus: 2
    linux:
      packages: [openssh-server]

  - vm_name: "{{ range_id }}-d13-redir-07"
    hostname: "{{ range_id }}-D13-R07"
    template: debian-13-x64-server-template
    vlan: 121
    ip_last_octet: 47
    ram_gb: 2
    cpus: 2
    linux:
      packages: [openssh-server]

  - vm_name: "{{ range_id }}-d13-redir-08"
    hostname: "{{ range_id }}-D13-R08"
    template: debian-13-x64-server-template
    vlan: 121
    ip_last_octet: 48
    ram_gb: 2
    cpus: 2
    linux:
      packages: [openssh-server]

router:
  vm_name: "{{ range_id }}-router"
  hostname: "{{ range_id }}-router"
  template: debian-11-x64-server-template
  ram_gb: 2
  cpus: 2
  iptables_commands:
    - iptables -I LUDUS_DEFAULTS -p tcp -s 192.0.2.0/24 -d 10.0.0.0/8 --dport 22 -j ACCEPT
